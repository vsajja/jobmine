<ng-progress [positionUsing]="'marginLeft'"
             [minimum]="0.15"
             [maximum]="1"
             [speed]="200"
             [showSpinner]="true"
             [direction]="'leftToRightIncreased'"
             [color]="'blue'"
             [trickleSpeed]="250"
             [thick]="true"
             [ease]="'linear'">
</ng-progress>

<div class="container">
  <div>
    <label>Location:</label>
    <select #location ng-model="location" >
      <option>Calgary</option>
      <option>Edmonton</option>
      <option>Toronto</option>
      <option>Waterloo</option>
    </select>
  </div>
  <div class="row">
    <div class="col-3">
      <input #searchBox id="search-box" placeholder="title or company..." (keyup)="updateFilter($event)"/>
      <button (click)="searchJobs(searchBox.value, location.value)">
        Search
      </button>
    </div>
  </div>

  <ngx-datatable
    [rows]="rows"
    [columnMode]="'force'"
    [headerHeight]="50"
    [footerHeight]="50"
    [limit]="10"
    [rowHeight]="'auto'">

    <div class="card-deck">
      <ngx-datatable-column>
        <ng-template let-row="row" ngx-datatable-cell-template>
          <div id="job" class="card" style="width: 20rem; cursor: pointer;" (click)="viewJobDetails(row.jobId)">
            <div style="align: center">
              <img *ngIf="row.companyLogo" style="float: left; padding-top: 15px; padding-left: 20px" width="35%"
                   height="35%" src="{{row.companyLogo}}">
            </div>
            <div class="card-body">
              <div>
                <h6 class="card-title">
                  <a href="jobs/{{row.jobId}}">
                    <strong>{{row.title}}</strong>
                  </a>
                </h6>
                <div>
                  <h6 class="card-subtitle mb-2 text-muted">{{row.company}}</h6>
                  <h6 class="card-subtitle mb-2 text-muted">{{row.location}}</h6>
                  <hr/>
                  <h6 class="card-subtitle mb-2 text-muted">{{row.createdTimestamp | timeAgo}}</h6>
                  <button (click)="shortlist($event, row.jobId)">&hearts; Shortlist</button>
                </div>
              </div>
            </div>
          </div>
          <br/>
        </ng-template>
      </ngx-datatable-column>
    </div>
  </ngx-datatable>
</div>
